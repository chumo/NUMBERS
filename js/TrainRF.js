// glabal arrays of classifications
	// for random forest
	var RF_CL = _.map(_.range(numIcons),function(d){return 0;});
	var RF_CL_ind = _.map(_.range(numIcons),function(d){return d;});;
	// for SVM
	var SVM_CL = _.map(_.range(numIcons),function(d){return 0;});
	var SVM_CL_ind = _.map(_.range(numIcons),function(d){return d;});

// sequence of objects:
var icons = _.range(10);
var numIcons = icons.length;

// models
var forest = new Array(numIcons);
for (var i = 0; i < forest.length; i++) {
	forest[i] = new forestjs.RandomForest();
}

var svm = new Array(numIcons);
for (var i = 0; i < svm.length; i++) {
	svm[i] = new svmjs.SVM();
}

var training_data = [{"label":0,"coords":[[184.953125,43],[143.953125,65],[108.953125,137],[108.953125,194],[157.953125,225],[225.953125,225],[267.953125,174],[273.953125,119],[257.953125,65],[235.953125,40],[218.953125,37],[192.953125,42],[184.953125,44]],"featuresCoords":[0.46170794886393984,0.3991559029560853,0.3366038570482307,0.2740518111403759,0.21206855273735706,0.18103299738829126,0.1499974420392253,0.11896188669015953,0.08792633134109365,0.056890775992027784,0.025855220642962,0,0,0,0,0,0.017332137948242326,0.07732282530034294,0.13731351265244357,0.19730420000454393,0.25729488735664446,0.3208796761943991,0.3918679494688155,0.462856222743232,0.5338444960176489,0.6048327692920654,0.675821042566482,0.7336867338066482,0.7788144939952805,0.8239422541839128,0.869070014372545,0.9141977745611775,0.9593255347498097,0.9725114686839468,0.9802099701722092,0.9879084716604717,0.9956069731487346,1,0.9798330600177961,0.9596661200355923,0.9394991800533884,0.9193322400711845,0.8911792002364648,0.8442823667011671,0.7973855331658699,0.7401601293181229,0.6702520449286031,0.600535489545443,0.5308245475299416,0.46170794886393984,0.9683829434620991,0.9389859898447138,0.9095890362273286,0.8801920826099432,0.8503165089395832,0.7943992392945368,0.7384819696494903,0.6825647000044439,0.6266474303593973,0.5707301607143508,0.5148128910693042,0.45785127729417324,0.3956773076690032,0.3335033380438334,0.27132936841866373,0.20915539879349393,0.1553406220857237,0.12209982448590491,0.08885902688608642,0.05561822928626778,0.022377431686449137,0,0,0,0,0,0,0.02435391623152139,0.07234788325352604,0.1203418502755307,0.16833581729753533,0.21632978431954,0.2643237513415446,0.3241058865398747,0.38591316507261575,0.44772044360535646,0.5095277221380972,0.5710746245224634,0.6306869092586648,0.6902991939948662,0.7499114787310676,0.8095237634672688,0.8652707230348816,0.9119455624332415,0.9586204018316008,0.9891950759282389,1,0.9889005843369314,0.9771591922203359,0.9630621580584611],"featuresSlopes":[0.3126708018916444,0.312670801891644,0.3126708018916431,0.3232783396976,0.9385064732525494,0.9385064732525477,0.938506473252549,0.938506473252549,0.938506473252549,0.9385064732525499,1.012591849066617,1.3909813628146157,1.3909813628146157,1.3909813628146157,1.3909813628146157,1.6659179764283318,2.397693968559854,2.3976939685598584,2.397693968559854,2.3976939685598553,2.5797005655922414,2.9617776896095123,2.9617776896095123,2.9617776896095123,2.9617776896095123,2.9617776896095123,3.409732979017729,3.843649628189548,3.843649628189548,3.843649628189548,3.843649628189548,3.843649628189548,4.341744968534828,4.423912800563824,4.423912800563823,4.423912800563818,4.470140923439455,4.8206294634550355,4.8206294634550355,4.820629463455036,4.8206294634550355,4.949013997034341,5.25422886726917,5.2542288672691715,5.55560867757514,5.928698144191065,0,0.010173323938435175,0.048982533037545295]},{"label":1,"coords":[[162.953125,105],[198.953125,52],[213.953125,27],[214.953125,24],[214.953125,25],[204.953125,62],[189.953125,142],[186.953125,191],[183.953125,211],[180.953125,229],[179.953125,240]],"featuresCoords":[0,0.06962191645060646,0.13924383290121292,0.20886574935181884,0.2784876658024253,0.3481095822530318,0.4177314987036377,0.48735341515424413,0.5569753316048506,0.6265972480554571,0.695889284411548,0.7596395281992044,0.8233897719868608,0.8871400157745172,0.9508902595621737,1,0.9713787180625426,0.9390499499749805,0.9067211818874182,0.8743924137998556,0.8420636457122933,0.8097348776247311,0.7863001803513853,0.7634653193971744,0.7406304584429632,0.7177955974887519,0.6949607365345406,0.6721258755803299,0.6492910146261186,0.6264561536719072,0.6036212927176965,0.5807864317634852,0.5579515708092739,0.5351167098550632,0.5169265078128257,0.5093544697719866,0.5017824317311474,0.4942103936903084,0.48663835564946933,0.4790663176086308,0.47149427956779166,0.4639222415269526,0.4489443238776282,0.4305637251299933,0.41218312638235943,0.39271525903346954,0.37234487617102674,0.3519744933085845,0.33814119839603596,0.3269230769230769,0.6257563719995051,0.6504619033233745,0.6751674346472437,0.699872965971113,0.7245784972949824,0.7492840286188518,0.773989559942721,0.7986950912665904,0.8234006225904597,0.8481061539143291,0.8728624860956851,0.8984722429582245,0.9240819998207639,0.9496917566833033,0.9753015135458427,1,0.9710499680520024,0.9422185677708791,0.9133871674897558,0.8845557672086324,0.8557243669275091,0.8268929666463857,0.7975716897100137,0.7682173743803284,0.7388630590506433,0.709508743720958,0.6801544283912728,0.6508001130615877,0.6214457977319026,0.5920914824022173,0.5627371670725321,0.533382851742847,0.5040285364131617,0.4746742210834766,0.4451812251964347,0.41537119141065215,0.3855611576248697,0.3557511238390873,0.32594109005330474,0.2961310562675222,0.2663210224817398,0.23651098869595719,0.20688911189426562,0.17735368508192395,0.14781825826958253,0.11832432252738144,0.08886482752450876,0.05940533252163597,0.02974319917275047,0],"featuresSlopes":[2.808895981338186,2.808895981338186,2.8088959813381895,2.808895981338186,2.808895981338186,2.8088959813381895,2.8088959813381873,2.808895981338186,2.808895981338186,2.8120542906814254,2.8651368769449173,2.865136876944918,2.865136876944918,2.8651368769449173,2.958637134685608,0.03003152679790544,3.9968028886505635e-15,4.6629367034256575e-15,0,3.774758283725532e-15,4.6629367034256575e-15,0.07365292286133718,0.0786157736300166,0.07861577363001238,0.07861577363001282,0.07861577363001238,0.07861577363001637,0.07861577363001193,0.07861577363001282,0.0786157736300166,0.07861577363001149,0.07861577363001282,0.07861577363001637,0.11638476072632331,0.20281556097640685,0.2028155609764064,0.2028155609764064,0.20281556097640685,0.2028155609764113,0.2028155609764064,0.20281556097640685,0.142687076797547,0.11507377601620794,0.11507377601621527,0.1061895764273375,0.09881504621108017,0.09881504621108506,0.15202538537537036,0.17330383642496483]},{"label":2,"coords":[[140.953125,49],[160.953125,38],[199.953125,29],[218.953125,34],[226.953125,58],[220.953125,99],[172.953125,165],[127.953125,199],[106.953125,213],[105.953125,215],[133.953125,212],[203.953125,197],[256.953125,194],[264.953125,194],[263.953125,194]],"featuresCoords":[0.21127874566808563,0.265922739922716,0.3205667341773463,0.3792089989513975,0.43997555930718313,0.5007421196629692,0.5615086800187549,0.6220299469789088,0.6823402140428693,0.7216479638656109,0.7413690714810577,0.7610901790965046,0.7544687241931303,0.7454385234309132,0.7364083226686959,0.7273781219064788,0.7002201955839152,0.6635396804845801,0.626859165385245,0.5901786502859099,0.5534981351865748,0.5168176200872395,0.48013710498790446,0.4434565898885691,0.4033183746440507,0.35356048160349685,0.30380258856294323,0.2540446955223894,0.20428680248183573,0.1545289094412819,0.10377933350246729,0.05188966675123346,0,0.026541211368641657,0.08854992766344162,0.15055864395824142,0.2118007960048173,0.27278009228089956,0.3337593885569816,0.3947386848330637,0.4557179811091457,0.5166972773852277,0.5776765736613094,0.6391487960813047,0.7014127474451595,0.763676698809014,0.8259406501728688,0.8882046015367234,0.9504685529005772,1,0.8969825483173619,0.922409911084597,0.947837273851832,0.964407376235969,0.9762715841573126,0.9881357920786564,1,0.9982677888910227,0.9848400203186783,0.9524597240380597,0.9024045759821846,0.8523494279263095,0.8003229861771523,0.7481162906840066,0.6959095951908612,0.6437028996977157,0.5977477717133459,0.5550766247445824,0.5124054777758189,0.46973433080705534,0.42706318383829184,0.3843920368695284,0.3417208899007649,0.29904974293200126,0.25925107463398134,0.22744393773784555,0.1956368008417096,0.1638296639455738,0.13202252704943784,0.10021539015330205,0.0695896647255321,0.040322152052194755,0.011054639378857707,0,0.005620981509135829,0.011241963018271812,0.020909669204684882,0.03196500198011023,0.04302033475553557,0.05407566753096092,0.06513100030638627,0.07618633308181161,0.0872416658572368,0.09519915838125768,0.09818095663388314,0.1011627548865086,0.10414455313913389,0.10712635139175934,0.11010814964438463,0.11033059087827973],"featuresSlopes":[3.0564332609700875,3.056433260970088,2.8759209724872687,2.7803888980961133,2.780388898096112,2.7803888980961133,2.5197733657320054,2.296266335071138,1.7815378780987516,1.3045442776439722,1.3045442776439724,0.8755293755969076,0.8374837126116299,0.837483712611627,0.837483712611627,0.5191564167794374,0.353997436831897,0.3539974368318979,0.3539974368318979,0.353997436831897,0.353997436831897,0.353997436831897,0.35399743683189655,0.27640518806855363,0.05904458967275428,0.059044589672758274,0.05904458967275428,0.059044589672758274,0.05904458967275428,0.03157814594361463,1.7763568394002505e-15,0,2.0961233913699724,2.660325722691361,2.660325722691364,2.7380539625740603,2.7646833832649724,2.7646833832649733,2.7646833832649733,2.7646833832649733,2.7646833832649733,2.7646833832649715,2.705416023492263,2.610133486987045,2.6101334869870456,2.6101334869870425,2.6101334869870456,2.6101334869870434,2.5588980878510177]},{"label":3,"coords":[[150.953125,43],[178.953125,37],[212.953125,33],[231.953125,40],[234.953125,59],[212.953125,91],[185.953125,108],[160.953125,116],[156.953125,117],[183.953125,114],[225.953125,116],[254.953125,142],[267.953125,173],[246.953125,217],[203.953125,238],[154.953125,241],[136.953125,236],[135.953125,235]],"featuresCoords":[0.11399501413701225,0.19149533648176234,0.26899565882651266,0.3468053657979081,0.4255221810396968,0.5042389962814853,0.5829558115232738,0.6574510361363669,0.7299430177280682,0.7423045639298945,0.744015991703149,0.6991130892770323,0.6542101868509153,0.6093072844247985,0.554149900869336,0.48707774299626583,0.42000558512319563,0.349539007000546,0.2740501583802277,0.19856130975990943,0.19828269878127333,0.2770576217119827,0.3558325446426921,0.43495763738417864,0.514127622586747,0.5932976077893156,0.6724675929918842,0.7344103239160964,0.7934246716282564,0.852439019340416,0.9080444833110168,0.9386963222073449,0.9693481611036724,1,0.9725318658465385,0.9383923696717664,0.9042528734969945,0.8701133773222225,0.8277308286413219,0.7565106402526719,0.6852904518640218,0.6140702634753716,0.5428500750867216,0.4666274301240894,0.38751586757329476,0.3084043050224997,0.22929274247170486,0.1501811799209098,0.07361234466763834,0,0.9520695390546922,0.9625796642777066,0.973089789500721,0.9824174845996125,0.9882783230664083,0.9941391615332043,1,0.9833131053806923,0.964995469706017,0.9154485904676937,0.8674290571794683,0.8260945395484902,0.7847600219175119,0.7434255042865336,0.708848085199911,0.6821217999914749,0.6553955147830386,0.6332823432635162,0.6179945802316712,0.6027068171998261,0.5988823546334796,0.6044216769998647,0.6099609993662498,0.6084756722327682,0.606089771164636,0.6037038700965038,0.6013179690283715,0.5723517190339015,0.5388671954765805,0.5053826719192596,0.4703629174306151,0.4241050040703015,0.3778470907099878,0.33158917734967447,0.2862182818056511,0.24094920353134244,0.19568012525703404,0.1504110469827255,0.11031196310933757,0.08829967847858387,0.06628739384783004,0.04427510921707608,0.02226282458632239,0.012261293576833542,0.00919597018262519,0.00613064678841684,0.0030653233942083513,0,0.012218819872525941,0.028633140280741376],"featuresSlopes":[3.29153782416324,3.2915378241632394,3.267648088295332,3.1975532355073573,3.197553235507358,3.1975532355073573,2.74025942196627,2.700566311367832,1.6662500411276124,1.5321998062466315,0.9073608180106323,0.9073608180106318,0.9073608180106341,0.7195041613119595,0.5007733996075143,0.5007733996075157,0.39917977754291334,0.24855478189315594,0.24855478189315727,1.4635767495321665,3.1911017121143894,3.1911017121143894,3.0507914387669612,3.0328613876635093,3.0328613876635093,3.0328613876635093,2.4440797043447913,2.3495377837837763,2.349537783783776,2.2974819168273566,1.9067276093705818,1.9067276093705756,1.906727609370579,1.1437560104704811,1.0643471202579105,1.0643471202579105,1.0643471202579113,0.9200982488006586,0.39315392404401406,0.3931539240440163,0.3931539240440176,0.39315392404401406,0.1432896298597388,4.440892098500626e-16,0,3.1086244689504383e-15,0,5.975032109292753,5.883279833917225]},{"label":4,"coords":[[196.953125,25],[165.953125,79],[139.953125,122],[133.953125,138],[133.953125,140],[176.953125,141],[213.953125,137],[221.953125,136],[221.953125,126],[221.953125,111],[221.953125,109],[218.953125,135],[208.953125,224],[208.953125,248],[208.953125,249]],"featuresCoords":[0.7124306733937426,0.6671271481130622,0.6218236228323822,0.576520097551702,0.5312165722710216,0.48591304699034166,0.44060952170966133,0.39530599642898107,0.3497730398859596,0.3026903939461336,0.2556077480063076,0.2085251020664816,0.16144245612665556,0.11435981018682956,0.06727716424700356,0.031950527238373716,0,0.020865601761600794,0.1118361466189869,0.20280669147637334,0.29377723633375946,0.38474778119114555,0.4757183260485317,0.5662231105483349,0.6566911214852772,0.7471591324222203,0.8376271433591631,0.9280561183792401,1,1,1,1,0.9917588624901021,0.9813286255689045,0.970898388647707,0.9605981909380892,0.9504379514159353,0.9402777118937818,0.9301174723716279,0.9199572328494744,0.9097969933273204,0.8996367538051669,0.889476514283013,0.8793162747608595,0.8691560352387055,0.858995795716552,0.8504639501647461,0.8504639501647461,0.8504639501647461,0.8504639501647461,1,0.9693723628214369,0.9387447256428738,0.9081170884643107,0.8774894512857477,0.8468618141071845,0.8162341769286215,0.7856065397500583,0.755031372354982,0.724810611182894,0.694589850010806,0.6643690888387178,0.6341483276666299,0.6039275664945418,0.5737068053224539,0.541274743852909,0.5082076375664618,0.48630830520172275,0.48548723220347006,0.48466615920521744,0.48384508620696476,0.4830240132087121,0.48220294021045934,0.48566088990117634,0.48945668481051935,0.49325247971986236,0.49704827462920537,0.5009740616487948,0.5116408846937602,0.5469565696885376,0.5822722546833149,0.617587939678092,0.5972802899067775,0.5621973728565558,0.5271144558063341,0.4920257917714019,0.45693094239011395,0.421836093008826,0.386741243627538,0.3516463942462503,0.3165515448649621,0.2814566954836742,0.24636184610238626,0.21126699672109847,0.17617214733981054,0.1410772979585226,0.1059470549843317,0.07063136998955447,0.03531568499477749,0],"featuresSlopes":[0.022694312818003937,0.022694312818007045,0.022694312818003493,0.022694312818004825,0.022694312818007045,0.02269431281800305,0.022694312818004825,0.01976786940337094,8.881784197001252e-16,1.7763568394002505e-15,0,8.881784197001252e-16,1.7763568394002505e-15,0,0.14387444407087635,0.18506178603154844,0.8980233853950561,2.091377160286556,2.0913771602865596,2.091377160286556,2.091377160286556,2.091377160286556,2.2127585024632586,2.22231865392984,2.2223186539298396,2.22231865392984,2.226024397384046,2.4795440963835054,3.6854251098919164,3.6854251098919164,3.6854251098919164,0.3876170232736744,0.4289558508852229,0.4289558508852229,0.43039416544433373,0.4319421901304452,0.43194219013044877,0.43194219013044566,0.4319421901304481,0.4319421901304461,0.43194219013044877,0.4319421901304452,0.4319421901304483,0.4319421901304452,0.43194219013044877,0.44985362198379764,0.5438324563021233,0.5438324563021233,0.5438324563021233]},{"label":5,"coords":[[249.953125,35],[209.953125,27],[155.953125,24],[142.953125,24],[140.953125,26],[138.953125,45],[135.953125,83],[131.953125,100],[130.953125,107],[156.953125,107],[208.953125,103],[242.953125,116],[260.953125,144],[237.953125,183],[172.953125,210],[131.953125,216],[122.953125,216]],"featuresCoords":[0.922812753845275,0.8491764349023722,0.7755401159594693,0.7019037970165664,0.6281964468101546,0.5532174605389102,0.47823847426766547,0.403259487996421,0.32828050172517625,0.25330151545393176,0.17822775123591303,0.12852701557232712,0.12066575298339419,0.11366210140017717,0.10775196931042981,0.10184183722068244,0.09593170513093506,0.08154113295999262,0.06474497190412892,0.08644918407339042,0.16154378951319096,0.23663839495299188,0.31154248225559,0.38641589544631466,0.4612893086370395,0.5361627218277647,0.6110361350184892,0.6820542290527861,0.7521964830512502,0.8223387370497142,0.8838357633641093,0.9244437413223733,0.9650517192806376,1,0.9618530653579536,0.9237061307159076,0.8855591960738615,0.8474122614318153,0.787710004590602,0.71836038305981,0.6490107615290182,0.5796611399982252,0.5103115184674333,0.44096189693664123,0.37161227540584896,0.2979019589774216,0.22359877076822607,0.14929558255902992,0.07499239434983436,0,0.9427083333333334,0.9532646150053877,0.9638208966774421,0.9743771783494962,0.9845329563473041,0.987518723689074,0.9905044910308439,0.9934902583726138,0.9964760257143839,0.9994617930561538,1,0.9741575749649832,0.9206266419898091,0.8670390995370761,0.8133793756794722,0.7597196518218681,0.7060599279642642,0.6533496234534425,0.6008992363120402,0.5677083333333334,0.5677083333333334,0.5677083333333334,0.5712641519978647,0.5753924703787935,0.5795207887597223,0.5836491071406512,0.58777742552158,0.572876831402943,0.5536533050628102,0.5344297787226773,0.507579671026529,0.4623018211632966,0.417023971300064,0.3716680316602132,0.32530355944370654,0.27893908722720023,0.23257461501069385,0.18621014279418713,0.15761084883172005,0.13696259136077504,0.11631433388983003,0.09566607641888474,0.07501781894793973,0.05436956147699471,0.03372130400604956,0.024388778574053898,0.016594718538542146,0.008800658503030393,0.0010065984675186417,0],"featuresSlopes":[6.067065714943572,6.067065714943572,6.067065714943572,6.074551183357103,6.208962769547735,6.208962769547736,6.208962769547735,6.208962769547736,6.208962769547735,6.254459945657879,0.6088506672205112,1.4471953556785295,1.4586643234434324,1.4732883334196192,1.4732883334196192,1.4732883334196192,1.3588231608881582,1.3264449262471,1.9903845923808736,3.1228686212036596,3.1228686212036596,3.1890005847764127,3.1996405124734375,3.199640512473437,3.199640512473438,3.1996405124734375,2.8381082120664485,2.7576671714154872,2.757667171415486,2.575770055186355,2.1234097742423885,2.1234097742423907,2.056684992263283,1.0192284067893724,1.0192284067893729,1.0192284067893742,1.0192284067893747,0.5704129536679212,0.37497419157389,0.3749741915738909,0.3749741915738909,0.3749741915738909,0.37497419157389,0.37497419157389134,0.156109675057845,0.1265859782495693,0.12658597824956797,0.1265859782495693,0]},{"label":6,"coords":[[256.953125,37],[227.953125,43],[189.953125,75],[166.953125,114],[161.953125,155],[165.953125,208],[179.953125,228],[202.953125,237],[222.953125,232],[243.953125,206],[247.953125,179],[234.953125,160],[195.953125,158],[171.953125,170],[167.953125,174],[166.953125,176]],"featuresCoords":[1,0.9058875321953868,0.8117750643907735,0.7176625965861604,0.6389665831553575,0.5654542884968914,0.49194199383842563,0.4184296991799596,0.3449174045214938,0.2786551745162198,0.22983493948742492,0.18101470445862977,0.13219446942983462,0.08337423440103976,0.04653604198483654,0.034902031488627326,0.02326802099241842,0.01163401049620921,0,0.003215386614582378,0.010448074522743905,0.017680762430905734,0.02491345033906726,0.03214613824722879,0.039378826155390616,0.09215162064212984,0.14726459707409537,0.21168094786220318,0.3011786487571801,0.390676349652157,0.48226277676108337,0.5754989609180723,0.6590404055916321,0.7194271572495744,0.7798139089075163,0.8402006605654583,0.8716277492836209,0.8857119049115315,0.8997960605394422,0.8709207737982205,0.8166514540470113,0.7581816685225145,0.6622021326365316,0.5662225967505478,0.47024306086456485,0.374263524978582,0.2864290906331909,0.20046957614681984,0.11451006166044907,0.050284720730073715,1,0.9907165868943547,0.9814331737887093,0.9721497606830638,0.9477261964252847,0.9182118192062153,0.8886974419871458,0.8591830647680765,0.829668687549007,0.7972317673777555,0.7577638782525845,0.7182959891274134,0.6788281000022426,0.6393602108770715,0.5979540999334594,0.5524709466279755,0.5069877933224916,0.4615046400170075,0.41602148671152345,0.3703753892775439,0.32468520953818125,0.27899502979881896,0.23330485005945634,0.187614670320094,0.1419244905807314,0.10398870826304098,0.06645140329214835,0.034552846885276024,0.01785602497653614,0.0011592030677962481,0,0.011113011462647683,0.02946616965932503,0.06511152795081113,0.10075688624229708,0.13640224453378302,0.1781019364847023,0.223427357912513,0.26875277934032354,0.30935840566991935,0.3471740834826192,0.3814178217663517,0.3837644878515881,0.3861111539368244,0.38845782002206075,0.3908044861072972,0.374586500261862,0.35409511961500484,0.33360373896814777,0.3006847829646035],"featuresSlopes":[0,0,0,0.3730262808076339,0.4958748901266947,0.49587489012669694,0.4958748901266934,0.49587489012669694,0.5945797180935282,0.8339344595829603,0.833934459582959,0.8339344595829585,0.8339344595829612,0.9656099471687714,1.2454263466315838,1.2454263466315867,1.2454263466315838,1.2454263466315838,1.400350068381889,1.4421072380306867,1.4421072380306903,1.4421072380306867,1.4421072380306872,1.4421072380306899,1.9524023436609301,1.9775043115915576,2.133221971383538,2.5645869521971836,2.5645869521971836,2.9110335599233736,3.1825533371241104,3.3693639530894117,3.828957195384293,3.8289571953842936,3.8289571953842936,4.163419602592636,4.361292645403739,4.361292645403739,4.835246222401586,5.1084212141938945,5.191627837851479,6.027930160183619,6.027930160183622,6.027930160183619,6.027930160183619,0.1654748429667845,0.2596296294082592,0.25962962940825784,0.6175364878469547]},{"label":7,"coords":[[128.953125,39],[192.953125,42],[246.953125,43],[258.953125,43],[257.953125,44],[216.953125,109],[164.953125,203],[155.953125,237],[155.953125,242],[159.953125,235],[182.953125,186],[190.953125,156],[191.953125,156],[205.953125,156],[214.953125,156]],"featuresCoords":[0,0.07593841781969757,0.1518768356393949,0.22781525345909248,0.3037536712787898,0.3796920890984874,0.45563050691818496,0.5315946182314039,0.6076033867739092,0.683612155316415,0.7596209238589204,0.8356296924014261,0.9116384609439316,0.9876572941267492,1,0.9594421162102711,0.9188842324205423,0.8783263486308134,0.8377684648410847,0.7972105810513561,0.756652697261627,0.7160948134718984,0.6771342396128421,0.6403350215701097,0.6035358035273772,0.5667365854846445,0.529937367441912,0.4931381493991795,0.456338931356447,0.41953971331371454,0.38274049527098203,0.3459412772282493,0.30914205918551685,0.2775580877768342,0.25810467461243125,0.23865126144802848,0.2191978482836257,0.21786455036832933,0.253925532821399,0.286227738413534,0.31852994400566903,0.3508321495978038,0.38313435518993905,0.4154365607820738,0.4388322342465705,0.4584202128583361,0.4780081914701018,0.5249842678185157,0.6010060682974295,0.6770278687763435,1,0.9977595718460324,0.9955191436920647,0.9932787155380972,0.9910382873841296,0.988797859230162,0.9865574310761943,0.9848116937370426,0.9839257663386806,0.9830398389403185,0.9821539115419566,0.9812679841435946,0.9803820567452325,0.980180336231234,0.959717302151368,0.9192473227952234,0.8787773434390788,0.8383073640829343,0.7978373847267898,0.7573674053706454,0.7168974260145008,0.6764274466583563,0.635362982231515,0.5934941067504413,0.5516252312693676,0.5097563557882938,0.46788748030722027,0.4260186048261464,0.3841497293450728,0.34228085386399904,0.3004119783829253,0.2585431029018516,0.21667422742077788,0.17348654996214352,0.1272313657633625,0.08097618156458192,0.034720997365801455,0,0.042085377916187335,0.08539941034804459,0.1287134427799017,0.1720274752117584,0.2153415076436155,0.2586555400754722,0.3040141359429919,0.35024681765654936,0.3964794993701066,0.4202748347635957,0.4202748347635957,0.4202748347635957],"featuresSlopes":[2.086692836640012,2.086692836640012,2.086692836640012,2.086692836640012,2.086692836640012,2.086692836640012,2.0970372057734554,2.115017147487973,2.115017147487973,2.115017147487973,2.1150171474879724,2.115017147487973,2.1293175738733883,0.9255670098792799,1.7763568394002505e-15,1.3322676295501878e-15,1.3322676295501878e-15,3.552713678800501e-15,2.220446049250313e-15,0,3.552713678800501e-15,0.024411950537766458,0.057447034661690655,0.05744703466169154,0.05744703466168888,0.05744703466169021,0.057447034661692875,0.05744703466169021,0.05744703466169154,0.05744703466169154,0.05744703466168888,0.05744703466169154,0.1313560548932764,0.3039663307973881,0.30396633079738855,0.3039663307973879,0.5385726755828375,3.2097347914167558,3.265470577387374,3.265470577387373,3.265470577387372,3.2654705773873705,3.265470577387372,3.390422188454286,3.4437274846035377,3.443727484603537,2.8111932685202867,2.133533549555982,2.133533549555982]},{"label":8,"coords":[[204.953125,36],[174.953125,36],[151.953125,42],[141.953125,60],[143.953125,79],[178.953125,109],[216.953125,131],[234.953125,151],[238.953125,175],[217.953125,192],[180.953125,207],[146.953125,208],[133.953125,195],[134.953125,165],[173.953125,121],[199.953125,93],[204.953125,78],[195.953125,57],[186.953125,49],[185.953125,48]],"featuresCoords":[0.6823069072496828,0.5774890088255705,0.4726711104014579,0.36867807757442356,0.26725446860291435,0.16879080240582084,0.11788673097515061,0.07727056286872017,0.08824340197888245,0.1273828422031457,0.20696652362770823,0.28655020505227075,0.366133886476833,0.4476558202623316,0.5383679847474492,0.6290801492325667,0.7197923137176843,0.8076429892000301,0.8777624664885456,0.947881943777061,0.9827680436476001,1,0.9747723335242675,0.8933031596157879,0.8118339857073086,0.7155225357776813,0.6183836732954041,0.5212448108131267,0.4219828825733101,0.31721029121784744,0.21243769986238445,0.11233030302661137,0.03821285626119901,0,0.0034919904913410195,0.006983980982682312,0.05697194031143066,0.12649843997094035,0.19602493963044945,0.2655514392899594,0.3350779389494685,0.40514491011311005,0.4764683643291652,0.54779181854522,0.6191152727612754,0.6603056471583002,0.6684236922490508,0.6271338992232822,0.5770782607583897,0.49928541645904095,1,1,1,0.9961130834258934,0.9801185747721506,0.9618158662805495,0.9064255999221771,0.8497674433638317,0.7867514124539527,0.732676315596644,0.6914394483827797,0.6502025811689154,0.6089657139550513,0.5693815689355604,0.5376338122805532,0.5058860556255458,0.47413829897053855,0.44025749327658814,0.3931592629376287,0.34606103259866927,0.2887008614819319,0.22619881102969028,0.17343328817171497,0.1335646530529139,0.09369601793411286,0.06904162033607988,0.04523537103321035,0.02142912173034098,0.003725694090512718,0.001862847045256276,0,0.005239247594697136,0.05004449491530467,0.10341942565669575,0.16674844106421274,0.2300774564717304,0.282203547047496,0.32962194351298096,0.37704033997846575,0.424458736443951,0.4718771329094358,0.51899911022736,0.5654319751083235,0.6118648399892869,0.6582977048702507,0.7155278984600955,0.7750111188848182,0.8332519977579649,0.8876735003714135,0.9301223707047233],"featuresSlopes":[6.253782018975583,6.253782018975583,0.03234715082328643,0.2257791024168152,0.2689107801261117,1.0342945341985548,1.1324660234925927,1.6462699773211271,1.9538437932082506,2.4035630932581205,2.4035630932581196,2.40356309325812,2.4354837582322983,2.5873935937356833,2.5873935937356807,2.5873935937356833,2.5443176908107894,2.2742081403773997,2.2742081403773997,1.8937161670058222,1.7065417160055214,1.2600353043571368,0.6511179364632103,0.651117936463212,0.3711586481119271,0.3557542181594724,0.35575421815946884,0.25748768726527427,2.6645352591003757e-15,0,6.16742199010741,5.468383855578135,5.091438836898524,4.649664696302441,4.649664696302439,4.157611043813322,3.9577557799382466,3.957755779938249,3.957755779938248,3.957755779938249,3.9507936694385655,3.9346076446571683,3.9346076446571674,3.9346076446571683,4.272599984235103,4.600669939913539,5.087877478465769,5.190439513271371,5.519506278406977]},{"label":9,"coords":[[217.953125,28],[183.953125,20],[148.953125,21],[133.953125,36],[131.953125,64],[145.953125,87],[176.953125,95],[210.953125,85],[231.953125,41],[233.953125,23],[231.953125,23],[216.953125,28],[212.953125,31],[213.953125,31],[215.953125,31],[217.953125,32],[218.953125,98],[203.953125,210],[202.953125,240],[202.953125,241]],"featuresCoords":[0.8477268690142218,0.7459467349242442,0.6441666008342665,0.5423864667442889,0.4386921032344022,0.334175129520635,0.22965815580686785,0.13709131250976683,0.06315649263361243,0.014899129658251018,0.007449564829125509,0,0.037898615918254726,0.09226407370581269,0.1555012652182446,0.25674397908175317,0.35798669294526175,0.4590766470321894,0.5593875441148688,0.6596984411975482,0.7600093382802275,0.8152705493213726,0.860307473332614,0.9053443973438555,0.9503813213550968,0.9884533210453847,1,0.95553981083529,0.8563458409469195,0.8333476362336906,0.8490673690036082,0.850651423931987,0.8522354788603658,0.8538195337887444,0.8554035887171232,0.856987643645502,0.8491565260073829,0.8352769297683824,0.8213973335293819,0.8075177372903818,0.7936381410513813,0.7797585448123808,0.7658789485733806,0.7519993523343801,0.7381197560953799,0.7242401598563795,0.710360563617379,0.7061590104408324,0.7026756242847533,0.699521400796223,0.9647236912410386,0.9757017224319696,0.9866797536229006,0.9976577848138318,1,0.9986311081002205,0.997262216200441,0.9831846893658438,0.949292518213763,0.9100255043615323,0.8622165427290792,0.814407581096626,0.7716360098530523,0.730693616971224,0.6952330855743093,0.683256240190904,0.6712793948074987,0.6634831695394416,0.6770076181807455,0.6905320668220494,0.704056515463353,0.7418134270577667,0.7850700363958157,0.828326645733865,0.8715832550719141,0.9157509757985605,0.9633885866050967,0.9827074670839222,0.9675504273637002,0.9499025782955575,0.9060502533795789,0.8581249860261008,0.8101997186726224,0.7622744513191443,0.7143491839656657,0.6664239166121878,0.6187535571322488,0.5712469551201005,0.5237403531079518,0.4762337510958033,0.4287271490836548,0.3812205470715063,0.3337139450593581,0.28620734304720946,0.2387007410350611,0.19119413902291246,0.14368753701076398,0.09581083827134347,0.04790667620465782,0],"featuresSlopes":[6.023530982144929,6.02353098214493,6.02353098214493,6.20538707860243,0,0,0.291767831327582,0.7568345055586887,1.0291900815403912,1.4709252041708465,1.4709252041708463,1.9280552380909706,2.0890215098453826,2.2275422821165654,2.8604747199729736,2.8604747199729728,2.9463511240403313,3.399080437468352,3.399080437468352,3.3990804374683505,4.092880079619817,4.238524278658243,4.238524278658244,4.238524278658245,4.3075155489306605,4.573168101372037,5.4959664450465695,0.2931868965578812,1.003739993054634,1.7051018361682675,1.5573830248309064,1.5573830248309064,1.5573830248309064,1.5573830248309062,1.5573830248309064,1.4670692100576215,1.4090963414044873,1.4090963414044888,1.4090963414044906,1.409096341404488,1.409096341404488,1.40909634140449,1.4090963414044884,1.4090963414044904,1.4090963414044884,1.409096341404488,1.5020256454583263,1.5089116730778878,1.512059913583241]}];

// train both sets of models
trainIT(training_data,forest);
trainIT(training_data,svm);


function trainIT(DATA,model){

	// features
	if (fCoords) {
		var features = _.map(DATA, function(d){return d.featuresCoords;});
	} else {
		var features = _.map(DATA, function(d){return d.featuresSlopes;});
	}

	// labels
	var lObjects = _.map(DATA, function(d){return d.label;});
	var labels

	for (var i = 0; i < model.length; i++) {
		// train category 'obj'+String(i) vs the rest
		labels = _.map(lObjects,function(d){
			// if (d == 'obj'+String(i)) {
			if (d == i) {
				return 1;
			} else {
				return -1;
			};
		});
		model[i].train(features, labels);
	}

}

function genCLarrays() {
  // Compute characteristics of path
  var path = activeLine.datum();
  var fb = characteristics(path);

	// Compute the classification probabilities
	if (fCoords) { // classify with featuresCoords
	  RF_CL = classifyRF(fb.featuresCoords);
	  SVM_CL = classifySVM(fb.featuresCoords);
	} else { // classify with featuresSlopes
	  RF_CL = classifyRF(fb.featuresSlopes);
	  SVM_CL = classifySVM(fb.featuresSlopes);
	}

	RF_CL_ind = descIndexSort(RF_CL); //descent sorted indeces
	SVM_CL_ind = descIndexSort(SVM_CL); //descent sorted indeces

	data.push({'label':label, 'coords':path, 'featuresCoords':fb.featuresCoords, 'featuresSlopes':fb.featuresSlopes});

	// updateGraphs();

}
